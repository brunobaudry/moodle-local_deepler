define(["./utils"],l=>{let r,f,s,a,i,p,c,d,u,g=e=>{s.innerHTML=o(e,t()),""===s.innerHTML.trim()?a.style.display="none":a.style.display="block"},t=()=>window.scrollY+r,o=(e,o)=>{let n=[];return h(e,o).forEach(e=>{var t=T(e.beginningOfScope,e.endOfScope,o),t='<a href="#'+e.id+'" class="'+e.tag+'" style="opacity:'+t+"; pointer-events: "+(.5<t?"auto":"none")+'">'+e.text+"</a>";n.push(t)}),n.join("<small>&nbsp;&gt;&nbsp;</small>")},h=(n,r)=>{let f=[],s=0;return n.forEach((e,t)=>{var o,e=e.find(e=>e.offsetTop<r&&e.offsetTop>s);s=e?(t=n[t][n[t].indexOf(e)-1],o=f[f.length-1],t=m(t,o),f.push({id:e.id,tag:e.tagName.toLowerCase(),text:l.smartTruncate(e.textContent.trim(),u),beginningOfScope:e.offsetTop+e.offsetHeight,endOfScope:t}),e.offsetTop):i}),f},m=(e,t)=>{let o;return o=t?e?Math.min(e.offsetTop,t.endOfScope):t.endOfScope:e?e.offsetTop:i},T=(e,t,o)=>{var e=o-e,n=e/c,e=e>c?1:e/n,n=t-o-d,t=n/c,o=n>c?1:t;return Math.min(e,o)};return{init:(e,t,o)=>{u=o.crumbsmaxlen||30,f=document.querySelector(e),a=document.querySelector(t),s=a.querySelector("#local_deepler__breadcrumbs"),i=f.offsetTop+f.offsetHeight,p=o.highestLevel||2,c=0==o.fadingDistance?1:o.fadingDistance||100,d=o.offsetEndOfScope||100,r=o.offsetTop||0;let n=(()=>{var o=[];for(let t=p;t<=6;t++){let e=Array.prototype.slice.call(f.querySelectorAll("span.h"+t));e=e.sort((e,t)=>t.offsetTop-e.offsetTop),o.push(e)}return o})();g(n),window.addEventListener("scroll",()=>{g(n)})}}}),define(["./utils"],l=>{let r,f,s,a,i,p,c,d,u,g=e=>{s.innerHTML=((e,o)=>{let n=[];return t(e,o).forEach(e=>{var t=m(e.beginningOfScope,e.endOfScope,o),t='<a href="#'+e.id+'" class="'+e.tag+'" style="opacity:'+t+"; pointer-events: "+(.5<t?"auto":"none")+'">'+e.text+"</a>";n.push(t)}),n.join("<small>&nbsp;&gt;&nbsp;</small>")})(e,window.scrollY+r),""===s.innerHTML.trim()?a.style.display="none":a.style.display="block"},t=(n,r)=>{let f=[],s=0;return n.forEach((e,t)=>{var o,e=e.find(e=>e.offsetTop<r&&e.offsetTop>s);s=e?(t=n[t][n[t].indexOf(e)-1],o=f[f.length-1],t=h(t,o),f.push({id:e.id,tag:e.tagName.toLowerCase(),text:l.smartTruncate(e.textContent.trim(),u),beginningOfScope:e.offsetTop+e.offsetHeight,endOfScope:t}),e.offsetTop):i}),f},h=(e,t)=>t?e?Math.min(e.offsetTop,t.endOfScope):t.endOfScope:e?e.offsetTop:i,m=(e,t,o)=>{var n=(e=o-e)/c,e=e>c?1:e/n,t=(n=t-o-d)/c,o=n>c?1:t;return Math.min(e,o)};return{init:(e,t,o)=>{u=o.crumbsmaxlen||30,f=document.querySelector(e),a=document.querySelector(t),s=a.querySelector("#local_deepler__breadcrumbs"),i=f.offsetTop+f.offsetHeight,p=o.highestLevel||2,c=0==o.fadingDistance?1:o.fadingDistance||100,d=o.offsetEndOfScope||100,r=o.offsetTop||0;let n=(()=>{var o=[];for(let t=p;t<=6;t++){let e=Array.prototype.slice.call(f.querySelectorAll("span.h"+t));e=e.sort((e,t)=>t.offsetTop-e.offsetTop),o.push(e)}return o})();g(n),window.addEventListener("scroll",()=>{g(n)})}}});