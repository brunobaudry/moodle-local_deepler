define([],()=>{let r="moodle_deepler_glossary_",n="moodle_deepler_settings_",t=new DOMParser;let l=(e,t=!1)=>t?r+e.currentlang+e.targetlang+e.courseid:n+e.currentlang+e.targetlang+e.courseid,o=(e,t,r)=>{let n="";var o;r&&((o=new Date).setTime(o.getTime()+60*r*60*1e3),n="; expires="+o.toUTCString()),document.cookie=l(e,!0)+"="+(t||"")+n+"; path=/"},i=e=>{var r=l(e,!0)+"=",n=document.cookie.split(";");for(let t=0;t<n.length;t++){let e=n[t];for(;" "==e.charAt(0);)e=e.substring(1,e.length);if(0==e.indexOf(r))return e.substring(r.length,e.length)}return null};return{smartTruncate:(e,t)=>e.length<=t||0==t?e:0<(t=(e=e.slice(0,t-"…".length)).lastIndexOf(" "))?e.slice(0,t)+"…":e+"…",getCookie:i,getEncodedCookie:e=>{e=i(l(e));return null===e?null:atob(e)},setCookie:o,setEncodedCookie:(e,t,r)=>{o(l(e),btoa(t),r)},replaceKey:(e,t)=>e.replace("<KEY>",t),keyidToKey:e=>!("string"!=typeof e||256<e.length)&&(e=e.match(/^([^-]+)-([^-]+)-([^-]+)-([^-]+)$/i))?e[1]+`[${e[2]}][${e[3]}][${e[4]}]`:null,decodeHTML:e=>t.parseFromString(e,"text/html").documentElement.textContent,stripHTMLTags:e=>(new DOMParser).parseFromString(e,"text/html").body.textContent||"",fromBase64:e=>{e=atob(e),e=Uint8Array.from(e,e=>e.codePointAt(0));return(new TextDecoder).decode(e)},toJsonArray:(e,t=",")=>JSON.stringify(e.split(t))}});