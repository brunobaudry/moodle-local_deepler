define([],()=>{let r="moodle_deepler_glossary_",n="moodle_deepler_settings_",t=new DOMParser;let o=(e,t)=>e.replace("<KEY>",t);let l=(e,t=!1)=>t?r+e.currentlang+e.targetlang+e.courseid:n+e.currentlang+e.targetlang+e.courseid,i=(e,t,r)=>{let n="";var o;r&&((o=new Date).setTime(o.getTime()+60*r*60*1e3),n="; expires="+o.toUTCString()),document.cookie=l(e,!0)+"="+(t||"")+n+"; path=/"},a=e=>{var r=l(e,!0)+"=",n=document.cookie.split(";");for(let t=0;t<n.length;t++){let e=n[t];for(;" "==e.charAt(0);)e=e.substring(1,e.length);if(0==e.indexOf(r))return e.substring(r.length,e.length)}return null};return{debounce:(t,r)=>{let n;return(...e)=>{clearTimeout(n),n=setTimeout(()=>t(...e),r)}},decodeHTML:e=>t.parseFromString(e,"text/html").documentElement.textContent,getCookie:a,getEncodedCookie:e=>{e=a(l(e));return null===e?null:atob(e)},getParentRow:(e,t)=>e.closest(o(t,e.getAttribute("data-key"))),fromBase64:e=>{e=atob(e),e=Uint8Array.from(e,e=>e.codePointAt(0));return(new TextDecoder).decode(e)},keyidToKey:e=>!("string"!=typeof e||256<e.length)&&(e=e.match(/^([^-]+)-([^-]+)-([^-]+)-([^-]+)$/i))?e[1]+`[${e[2]}][${e[3]}][${e[4]}]`:null,replaceKey:o,setCookie:i,setEncodedCookie:(e,t,r)=>{i(l(e),btoa(t),r)},smartTruncate:(e,t)=>e.length<=t||0==t?e:0<(t=(e=e.slice(0,t-"…".length)).lastIndexOf(" "))?e.slice(0,t)+"…":e+"…",stripHTMLTags:e=>(new DOMParser).parseFromString(e,"text/html").body.textContent||"",switchLocation:(e,t)=>{var r=new URL(window.location.href),n=r.searchParams;n.set(e.key,e.value.trim()),t&&""!==t&&n.has(t)&&n.delete(t),window.location=r.toString()},toJsonArray:(e,t=",")=>JSON.stringify(e.split(t))}}),define([],()=>{let r="moodle_deepler_glossary_",n="moodle_deepler_settings_",t=new DOMParser,o=(e,t)=>e.replace("<KEY>",t),l=(e,t=!1)=>t?r+e.currentlang+e.targetlang+e.courseid:n+e.currentlang+e.targetlang+e.courseid,i=(e,t,r)=>{let n="",o;r&&((o=new Date).setTime(o.getTime()+60*r*60*1e3),n="; expires="+o.toUTCString()),document.cookie=l(e,!0)+"="+(t||"")+n+"; path=/"},a=e=>{var r=l(e,!0)+"=",n=document.cookie.split(";");for(let t=0;t<n.length;t++){let e=n[t];for(;" "==e.charAt(0);)e=e.substring(1,e.length);if(0==e.indexOf(r))return e.substring(r.length,e.length)}return null};return{debounce:(t,r)=>{let n;return(...e)=>{clearTimeout(n),n=setTimeout(()=>t(...e),r)}},decodeHTML:e=>t.parseFromString(e,"text/html").documentElement.textContent,getCookie:a,getEncodedCookie:e=>null===(e=a(l(e)))?null:atob(e),getParentRow:(e,t)=>e.closest(o(t,e.getAttribute("data-key"))),fromBase64:e=>(e=atob(e),e=Uint8Array.from(e,e=>e.codePointAt(0)),(new TextDecoder).decode(e)),keyidToKey:e=>"string"!=typeof e||256<e.length||!(e=e.match(/^([^-]+)-([^-]+)-([^-]+)-([^-]+)$/i))?null:e[1]+`[${e[2]}][${e[3]}][${e[4]}]`,replaceKey:o,setCookie:i,setEncodedCookie:(e,t,r)=>{i(l(e),btoa(t),r)},smartTruncate:(e,t)=>e.length<=t||0==t?e:0<(t=(e=e.slice(0,t-"…".length)).lastIndexOf(" "))?e.slice(0,t)+"…":e+"…",stripHTMLTags:e=>(new DOMParser).parseFromString(e,"text/html").body.textContent||"",switchLocation:(e,t)=>{var r=new URL(window.location.href),n=r.searchParams;n.set(e.key,e.value.trim()),t&&""!==t&&n.has(t)&&n.delete(t),window.location=r.toString()},toJsonArray:(e,t=",")=>JSON.stringify(e.split(t))}});