define([],()=>{let p=[{regex:/<pre\b[^>]*>(.*?)<\/pre>/gs,type:"PRETAG"},{regex:/\$\$.*?\$\$/g,type:"LATEX"}];return{postprocess:(p,e)=>(e.forEach(e=>{var r=new RegExp(e.token,"g");p=p.replace(r,e.expression.replace(/\$/g,"$$$$"))}),p),preprocess:(e,r)=>{let t=[],s=e;return p.forEach(p=>{r[p.type]&&(s=s.replace(p.regex,e=>{var r=`__${p.type}_${t.length}__`;return t.push({token:r,expression:e}),r}))}),{tokenizedText:s,expressions:t}}}});