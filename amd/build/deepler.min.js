/**
 * @module     local_deepler/deepler
 * @file       amd/src/deepler.js
 * @copyright  2022 Kaleb Heitzman <kaleb@jamfire.io>
 * @copyright  2024 Bruno Baudry <bruno.baudry@bfh.ch>
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("local_deepler/deepler",["./local/ui_deepler","core/log"],(UI,Log)=>{const debug_NONE=0,debug_MINIMAL=5,debug_NORMAL=15,debug_ALL=30719,debug_DEVELOPER=32767;return{init:cfg=>{let level=5;switch(cfg.debug){case debug_NONE:level=5;break;case debug_MINIMAL:level=3;break;case debug_NORMAL:level=2;break;case debug_ALL:level=1;break;case debug_DEVELOPER:level=0}Log.setConfig({level:level}),Log.info("09.04.2025 : 15:08 "+cfg.version);let activeRequests=0,ajaxStopFired=!1;const originalOpen=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(){activeRequests++,ajaxStopFired=!1,this.addEventListener("readystatechange",function(){4===this.readyState&&(activeRequests--,0!==activeRequests||ajaxStopFired||(()=>{const preloader=document.getElementById("local_deepler_preloaderModal");preloader&&(preloader.classList.remove("show","d-block"),preloader.classList.add("d-none")),ajaxStopFired=!0})())},!1);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];originalOpen.apply(this,args)},window.addEventListener("load",UI.init(cfg))}}});

//# sourceMappingURL=deepler.min.js.map