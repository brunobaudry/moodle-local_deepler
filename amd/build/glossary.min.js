define(["./local/selectors","./local/api","./local/customevents","core/modal","core/log"],function(t,a,r,s,o){let n="",l=e=>{n=e,window.console.log(n);let t=document.getElementById("fileElem"),a=document.getElementById("filename-display");t.addEventListener("change",function(){0<t.files.length?a.textContent="Selected file: "+t.files[0].name:a.textContent=""})},d=e=>{var t=e.glossaryid,a=JSON.parse(e.entries),o=e.status,r=e.message;if("success"===o){var o=document.createElement("table"),n=(o.className="generaltable",document.createElement("thead"));n.innerHTML=`<tr><th>${e.source.toUpperCase()}</th><th>${e.target.toUpperCase()}</th></tr>`,o.appendChild(n);let r=document.createElement("tbody");Object.entries(a).forEach(([e,t])=>{var a=document.createElement("tr");a.innerHTML=`<td>${e}</td><td>${t}</td>`,r.appendChild(a)}),o.appendChild(r),s.create({title:"Entries",body:o,type:"default",show:!0,removeOnClose:!0})}else s.create({title:`Error fetching entries for<br/><em>${t}</em>`,body:r,type:"default",show:!0,removeOnClose:!0})};return{init:function(e){"loading"!==document.readyState?(l(e),document.querySelectorAll(t.glossary.visibilityDropdown).forEach(e=>{e.addEventListener("change",e=>{o.info(e.target.dataset.glossary,e.target.value),a.updateGlossariesVisibility(e.target.dataset.glossary,e.target.value)})}),e=document.querySelectorAll(t.glossary.entriesviewer),o.info(e),e.forEach(e=>{e.addEventListener("click",e=>{0!==e.target.dataset.length&&void 0!==e.target.dataset.glossary?(o.info(e.target.dataset.glossary),a.getGlossariesEntries(e.target.dataset.glossary,n)):e.target.parentNode.dataset&&e.target.parentNode.dataset.glossary?(o.info(e.target.parentNode.dataset.glossary),a.getGlossariesEntries(e.target.parentNode.dataset.glossary,n)):o.error("Cannot not find glossary ID")})}),r.on(a.GLOSSARY_ENTRIES_SUCCESS,d),r.on(a.GLOSSARY_ENTRIES_FAILED,e=>{o.error(a.GLOSSARY_ENTRIES_FAILED),o.error(e)})):document.addEventListener("DOMContentLoaded",l)}}}),define(["./local/selectors","./local/api","./local/customevents","core/modal","core/log"],function(t,a,r,s,o){let n="",l=e=>{n=e,window.console.log(n);let t=document.getElementById("fileElem"),a=document.getElementById("filename-display");t.addEventListener("change",function(){0<t.files.length?a.textContent="Selected file: "+t.files[0].name:a.textContent=""})},d=e=>{var t=e.glossaryid,a=JSON.parse(e.entries),o=e.status,r=e.message;if("success"===o){(o=document.createElement("table")).className="generaltable";var n=document.createElement("thead");n.innerHTML=`<tr><th>${e.source.toUpperCase()}</th><th>${e.target.toUpperCase()}</th></tr>`,o.appendChild(n);let r=document.createElement("tbody");Object.entries(a).forEach(([e,t])=>{var a=document.createElement("tr");a.innerHTML=`<td>${e}</td><td>${t}</td>`,r.appendChild(a)}),o.appendChild(r),s.create({title:"Entries",body:o,type:"default",show:!0,removeOnClose:!0})}else s.create({title:`Error fetching entries for<br/><em>${t}</em>`,body:r,type:"default",show:!0,removeOnClose:!0})};return{init:function(e){"loading"!==document.readyState?(l(e),document.querySelectorAll(t.glossary.visibilityDropdown).forEach(e=>{e.addEventListener("change",e=>{o.info(e.target.dataset.glossary,e.target.value),a.updateGlossariesVisibility(e.target.dataset.glossary,e.target.value)})}),e=document.querySelectorAll(t.glossary.entriesviewer),o.info(e),e.forEach(e=>{e.addEventListener("click",e=>{0!==e.target.dataset.length&&void 0!==e.target.dataset.glossary?(o.info(e.target.dataset.glossary),a.getGlossariesEntries(e.target.dataset.glossary,n)):e.target.parentNode.dataset&&e.target.parentNode.dataset.glossary?(o.info(e.target.parentNode.dataset.glossary),a.getGlossariesEntries(e.target.parentNode.dataset.glossary,n)):o.error("Cannot not find glossary ID")})}),r.on(a.GLOSSARY_ENTRIES_SUCCESS,d),r.on(a.GLOSSARY_ENTRIES_FAILED,e=>{o.error(a.GLOSSARY_ENTRIES_FAILED),o.error(e)})):document.addEventListener("DOMContentLoaded",l)}}});